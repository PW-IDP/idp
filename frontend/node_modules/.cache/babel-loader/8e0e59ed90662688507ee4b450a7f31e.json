{"ast":null,"code":"var _jsxFileName = \"/src/src/App.js\",\n    _s = $RefreshSig$();\n\nimport logo from './logo.svg';\nimport './App.css';\nimport { useEffect, useState } from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { authSettings } from './common/AuthSettings';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const {\n    isAuthenticated,\n    loginWithRedirect,\n    logout,\n    user,\n    isLoading,\n    getAccessTokenSilently,\n    getIdTokenClaims\n  } = useAuth0();\n  const [accessToken, setAccessToken] = useState(\"ACCESS_TOKEN\");\n\n  const getTokens = () => {\n    getAccessTokenSilently().then(x => {\n      // console.log(\"getAccessTokenSilently\", x)\n      setAccessToken(x);\n    }).catch(x => {\n      console.log(\"err\", x);\n    }); // getIdTokenClaims().then((x) => {\n    //   console.log(\"getIdTokenClaims\", x.__raw)\n    // }).catch((x) => {\n    //   console.log(\"err\", x)\n    // }) ;\n  };\n\n  const publicEndpointTest = () => {\n    const config = {\n      method: 'GET',\n      headers: {}\n    };\n    fetch('http://localhost:8080/api/public', config).then(function (response) {\n      console.log(response.status);\n      response.json().then(function (body) {\n        console.log(JSON.stringify(body));\n      });\n    }).catch(function (error) {\n      console.log(\"ERROR:\", error);\n    });\n  };\n\n  const privateEndpointTest = () => {\n    const config = {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + accessToken\n      }\n    };\n    fetch('http://localhost:8080/api/private', config).then(function (response) {\n      console.log(response.status);\n      response.json().then(function (body) {\n        console.log(JSON.stringify(body));\n      });\n    }).catch(function (error) {\n      console.log(\"ERROR:\", error);\n    });\n  };\n\n  const privateScopedEndpointTest = () => {\n    const config = {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + accessToken\n      }\n    };\n    fetch('http://localhost:8080/api/private-scoped', config).then(function (response) {\n      console.log(response.status);\n      response.json().then(function (body) {\n        console.log(JSON.stringify(body));\n      });\n    }).catch(function (error) {\n      console.log(\"ERROR:\", error);\n    });\n  }; // useEffect(() => {\n  //   if (!isAuthenticated) {\n  //     loginWithRedirect();\n  //   }\n  // }, [isAuthenticated, lsoginWithRedirect]);\n  // console.log(user)\n  // user && console.log(user[authSettings.rolesKey])\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: getTokens,\n      children: \"Get Access Token\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: publicEndpointTest,\n        children: \"public\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: privateEndpointTest,\n        children: \"private\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: privateScopedEndpointTest,\n        children: \"private-scoped\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), accessToken, /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          logout({\n            returnTo: window.location.origin\n          });\n        },\n        children: \" Log Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loginWithRedirect,\n        children: \" Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"UTGbj7JmPizesZjb4dtSQ83nCu8=\", false, function () {\n  return [useAuth0];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["logo","useEffect","useState","useAuth0","authSettings","App","isAuthenticated","loginWithRedirect","logout","user","isLoading","getAccessTokenSilently","getIdTokenClaims","accessToken","setAccessToken","getTokens","then","x","catch","console","log","publicEndpointTest","config","method","headers","fetch","response","status","json","body","JSON","stringify","error","privateEndpointTest","privateScopedEndpointTest","returnTo","window","location","origin"],"sources":["/src/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport { useEffect, useState } from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { authSettings } from './common/AuthSettings';\n\nfunction App() {\n  const { isAuthenticated, loginWithRedirect, logout, user, isLoading, getAccessTokenSilently, getIdTokenClaims } = useAuth0();\n  const [accessToken, setAccessToken] = useState(\"ACCESS_TOKEN\")\n\n  const getTokens = () => {\n    getAccessTokenSilently().then((x) => {\n      // console.log(\"getAccessTokenSilently\", x)\n      setAccessToken(x)\n    }).catch((x) => {\n      console.log(\"err\", x)\n    });\n\n    // getIdTokenClaims().then((x) => {\n    //   console.log(\"getIdTokenClaims\", x.__raw)\n    // }).catch((x) => {\n    //   console.log(\"err\", x)\n    // }) ;\n  }\n\n  const publicEndpointTest = () => {\n    const config = {\n        method: 'GET',\n        headers: { },\n    };\n    fetch('http://localhost:8080/api/public', config)\n    .then(function (response) {\n      console.log(response.status);\n      response.json().then(function (body) {\n          console.log(JSON.stringify(body));\n      })\n    })\n    .catch(function (error) {\n        console.log(\"ERROR:\", error);\n    });\n  }\n\n  const privateEndpointTest = () => {\n    const config = {\n        method: 'GET',\n        headers: {\n          'Authorization': 'Bearer ' + accessToken,\n        },\n    };\n    fetch('http://localhost:8080/api/private', config)\n    .then(function (response) {\n      console.log(response.status);\n      response.json().then(function (body) {\n          console.log(JSON.stringify(body));\n      })\n    })\n    .catch(function (error) {\n        console.log(\"ERROR:\", error);\n    });\n  }\n\n  const privateScopedEndpointTest = () => {\n    const config = {\n        method: 'GET',\n        headers: {\n          'Authorization': 'Bearer ' + accessToken,\n        },\n    };\n    fetch('http://localhost:8080/api/private-scoped', config)\n    .then(function (response) {\n      console.log(response.status);\n      response.json().then(function (body) {\n          console.log(JSON.stringify(body));\n      })\n    })\n    .catch(function (error) {\n        console.log(\"ERROR:\", error);\n    });\n  }\n\n\n  // useEffect(() => {\n  //   if (!isAuthenticated) {\n  //     loginWithRedirect();\n  //   }\n  // }, [isAuthenticated, lsoginWithRedirect]);\n\n\n  // console.log(user)\n  // user && console.log(user[authSettings.rolesKey])\n  return (\n    <div>\n      <button onClick={getTokens}>Get Access Token</button>\n      <div>\n        <button onClick={publicEndpointTest}>public</button>\n        <button onClick={privateEndpointTest}>private</button>\n        <button onClick={privateScopedEndpointTest}>private-scoped</button>\n      </div>\n      {accessToken}\n      <div>\n      {\n      isAuthenticated ? \n        <button onClick={() => {logout({ returnTo: window.location.origin })}}> Log Out</button>\n        :\n        <button onClick={loginWithRedirect}> Log In</button>\n      }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}